% Glossary support
\usepackage[
   record={nameref},
   nomain,
   style=tree,
]{glossaries-extra}

\usepackage{gls-repo}
\usepackage{gls-role}
\usepackage{gls-linklist}

% glossary formatting
\setabbreviationstyle[abbreviation]{long-short}
\setabbreviationstyle[acronym]{short-long}
%\setabbreviationstyle[licenses]{short-long}
\setabbreviationstyle[links]{short}
%\GlsXtrEnableLinkCounting[part]{general}
\glssetcategoryattribute{software}{textformat}{texttt}
%\glssetcategoryattribute{role}{textformat}{texttt}
\glssetcategoryattribute{filename}{textformat}{texttt}
\glssetcategoryattribute{jinja2var}{textformat}{texttt}
\GlsDeclareNoHyperList{filename,jinja2var}% suppress links for these types

% display k8s states in typewriter font
\glssetcategoryattribute{k8sstate}{textformat}{texttt}
\GlsDeclareNoHyperList{k8sstate}% suppress links for these types

\newglossary*{blackaluminuiumfox}{Glossar --- BlackAlumniumFox}

\GlsXtrLoadResources[
  src={%
    glossaries/blackaluminuiumfox%
  },
  sort={de-DE},
  sort-field={category},
  entry-type-aliases={%
    software = entry,%
    repo = index,%
  },
  replicate-fields={%
    description-de=description,%
    text-de=text,%
    name-de=name,%
    plural-de=plural,%
    url=user1,%
    short=name,%
  }, % optionally copy the values
  type={blackaluminuiumfox},
  selection={recorded and deps},
]



\newglossary*{clusters}{Glossar --- QuestioningClusters}

\GlsXtrLoadResources[
   src={%
      glossaries/QuestioningClusters.bib%
   },%
   sort={en-GB},% sort according to 'en-GB' locale
   field-aliases={%
      description-de=description%
   },% load german description
   entry-type-aliases={%
      software=index,%
      k8sstate=index,%
      filename=index,%
   },% needed for bib2gls to recognize entries
   replicate-fields={%
      description-de=description,%
      name-de=name,%
      long=name,%
      %url=long,
      %url=description,
      %name=short,
      url=user1,%
   }, % optionally copy the values
   category={same as original entry},
   type={clusters},
   selection={recorded and deps},
   %selection={recorded and deps and see},
   match={%
      %entrytype=software,%
      %%entrytype=entry,%
   },%
]

\GlsXtrLoadResources[
   src={%
      glossaries/institutes.bib,%
      glossaries/shortcuts.bib%
   },%
   entry-type-aliases={%
     abbreviation=index,%
   },%
   replicate-fields={%
     short-de=name,%
   },%
   field-aliases={%
      description-de=description,%
      short-de=short,%
      long-de=long,%
   },% load german description
   type={ignored},
   selection={all},
]

\newglossary*{blackaluminuiumfoxpresentation}{Glossar --- BlackAlumniumFox --- Presentation}

\GlsXtrLoadResources[
  src={%
    glossaries/blackaluminuiumfoxpresentation%
  },
  sort={de-DE},
  sort-field={category},
  entry-type-aliases={%
    software = entry,%
    repo = entry,%
  },
  replicate-fields={%
    description-de=description,%
    text-de=text,%
    name-de=name,%
    plural-de=plural,%
    url=user1,%
    short=name,%
  }, % optionally copy the values
  type={blackaluminuiumfoxpresentation},
  selection={recorded and deps},
]
\newglossary*{ocrd}{Glossar --- OCR-D}

\GlsXtrLoadResources[
  src={%
    glossaries/ocr-d%
  },
  sort={de-DE},
  sort-field={category},
  entry-type-aliases={%
    software = entry,%
    repo = entry,%
  },
  replicate-fields={%
    description-de=description,%
    text-de=text,%
    name-de=name,%
    plural-de=plural,%
    url=user1,%
    short=name,%
  }, % optionally copy the values
  type={ocrd},
  selection={recorded and deps},
]

\newglossary*{ocrd}{Glossar --- Project Hocco}

\GlsXtrLoadResources[
  src={%
    glossaries/projecthocco.bib%
  },
  sort={de-DE},
  sort-field={category},
  entry-type-aliases={%
    software = entry,%
    repo = entry,%
  },
  replicate-fields={%
    description-de=description,%
    text-de=text,%
    name-de=name,%
    plural-de=plural,%
    url=user1,%
    short=name,%
  }, % optionally copy the values
  type={blackaluminuiumfoxpresentation},
  selection={recorded and deps},
]
